<template tag-name="lyte-drawer" class="{{if(ltPropLayout === 'overlay', 'lyteDrawerModal')}}">
    <%if(ltPropLayout == "overlay"){%>
        <div lyte-if="{{ltPropShowOpenButton}}"
        onclick="{{action('openDrawer')}}"
        class="lyteDrawerOpenElem lyteDrawerOpenElemLeft">
            <div class="lyteDrawerToggleIcon"></div>
        </div>
        <lyte-modal opened="{{concat(ltPropShow)}}" lt-prop-allow-multiple = true 
        lt-prop-show-close-button={{ltPropShowCloseButton}} 
        lt-prop-close-on-escape="{{ltPropCloseOnEscape}}"
        lt-prop-overlay-close="{{ltPropOverlayClose}}"
        lt-prop-width="{{ltPropWidth}}"
        lt-prop-wrapper-class="lyteDrawerModal {{ltPropWrapperClass}}"
        lt-prop-height="{{ltPropHeight}}"
        lt-prop-freeze="{{ltPropFreeze}}"
        lt-prop-show="{{lbind(ltPropShow)}}"
        on-before-show='{{method("modalOnBeforeShow")}}' 
        on-show = '{{method("modalOnShow")}}'
        on-before-close='{{method("modalOnBeforeClose")}}'
        on-close='{{method("modalOnClose")}}' 
        lt-prop={{stringify(modalAttr)}}>
            <template is="registerYield" yield-name="modal"> 
                <lyte-modal-content class="lyteDrawerModal" onclick='{{action("selectedItem",event,"overlay")}}'
                onkeydown='{{action("makeDrawerItemActive",event,"overlay")}}'
                onmousemove='{{action("selectActiveItem",event)}}'
                data-tabindex="{{ltPropDataTabindex}}"
                tabindex="0">
                    <%if(ltPropYield){%>
                        <lyte-yield yield-name="drawerPanel"></lyte-yield>
                    <%}else{%>
                        <lyte-drawer-body>
                            <%ltPropOptions.forEach(function(item,index){
                                if(lyteUiOptGroupCheck(item)){ %>
                                    <lyte-drawer-group>
                                        <lyte-drawer-label>
                                            {{lyteUiReturnOnlyKey(item)}}
                                        </lyte-drawer-label>
                                        <% lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subitem,indexval){ %>
                                            <% if(lyteUiIsObject(subitem)){%>
                                                <lyte-drawer-item data-value={{subitem[ltPropSystemValue]}}>
                                                    <%if(ltPropMiniVariant){ %>
                                                        <span class="lyteDrawerMiniIcon" style="background-image:{{subitem.icon}};"></span>
                                                        <span class="lyteDrawerMiniLabel">{{subitem[ltPropUserValue]}}</span>
                                                    <% } else {%>
                                                        {{subitem[ltPropUserValue]}}
                                                    <% } %>
                                                </lyte-drawer-item>
                                            <% } else { %>
                                                <lyte-drawer-item data-value={{subitem}}>
                                                    {{subitem}}
                                                </lyte-drawer-item>
                                            <% } 
                                        }) %>
                                    </lyte-drawer-group>
                                <%}else if(lyteUiIsObject(item)){%>
                                    <lyte-drawer-item data-value={{item[ltPropSystemValue]}}>
                                        <%if(ltPropMiniVariant){ %>
                                            <span class="lyteDrawerMiniIcon" style="background:{{item.icon}};"></span>
                                            <span class="lyteDrawerMiniLabel">{item[ltPropUserValue]}}</span>
                                        <% } else {%>
                                            {{item[ltPropUserValue]}}
                                        <% } %>
                                    </lyte-drawer-item>
                                <%}else{%>
                                    <lyte-drawer-item data-value={{item}}>
                                        {{item}}
                                    </lyte-drawer-item>
                                <%}
                            })%>
                        </lyte-drawer-body>
                    <%}%>
                </lyte-modal-content>
            </template>
        </lyte-modal>
    <%}else{%>
        <div class="lyteDrawerInlineBody {{if(currentPosition === 'left','lyteDrawerPanelLeft', 'lyteDrawerPanelRight')}} {{if(ltPropShow,'lyteDrawerShown','lyteDrawerHidden')}} {{if(ltPropLayout === 'inlineOverlay', 'lyteDrawerInlineOverlay', 'lyteDrawerInlineDisplace')}} {{if(ltPropMiniVariant,'lyteDrawerMiniVariant')}}" 
        style="height:{{ltPropHeight}};">
            <div class="lyteDrawerPanel {{ltPropWrapperClass}}" 
            onclick='{{action("selectedItem",event,"inline")}}' 
            onkeydown='{{action("makeDrawerItemActive",event,"inline")}}' 
            onmousemove='{{action("selectActiveItem",event)}}'
            data-tabindex="{{ltPropDataTabindex}}"
            tabindex="0">
                <div class="drawerWrapper">
                    <%if(ltPropYield){%>
                        <lyte-yield yield-name="drawerPanel">
                        </lyte-yield>
                    <%}else{%>
						<lyte-drawer-actions>
							<div lyte-if="{{ltPropShowOpenButton && !ltPropShow}}"
                            onclick="{{action('openDrawer')}}"
                            class="lyteDrawerOpenElem lyteDrawerOpenElemLeft">
                                <div class="lyteDrawerToggleIcon"></div>
							</div>
							<div lyte-if="{{ltPropShowCloseButton && ltPropShow}}" 
                            onclick="{{action('closeDrawer')}}"
                            class="lyteDrawerCloseIconWrap">
								<div class="lyteDrawerToggleIcon"></div>
							</div>
						</lyte-drawer-actions>
                        <lyte-drawer-body>
                                <%ltPropOptions.forEach(function(item,index){
                                if(lyteUiOptGroupCheck(item)){ %>
                                    <lyte-drawer-group>
                                        <lyte-drawer-label>
                                            {{lyteUiReturnOnlyKey(item)}}
                                        </lyte-drawer-label>
                                            <% lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subitem,indexval){ %>
                                            <% if(lyteUiIsObject(subitem)){%>
                                                <lyte-drawer-item data-value={{subitem[ltPropSystemValue]}}>
                                                    <%if(ltPropMiniVariant){ %>
                                                        <span class="lyteDrawerMiniIcon" style="background:{{subitem.icon}};"></span>
                                                        <span class="lyteDrawerMiniLabel">{{subitem[ltPropUserValue]}}</span>
                                                    <% } else {%>
                                                        {{subitem[ltPropUserValue]}}
                                                    <% } %>
                                                </lyte-drawer-item>
                                            <% } else { %>
                                                <lyte-drawer-item data-value={{subitem}}>
                                                    {{subitem}}
                                                </lyte-drawer-item>
                                            <% } 
                                        }) %>
                                    </lyte-drawer-group>
                                <%}else if(lyteUiIsObject(item)){%>
                                    <lyte-drawer-item data-value={{item[ltPropSystemValue]}}>
                                        <%if(ltPropMiniVariant){ %>
                                            <span class="lyteDrawerMiniIcon" style="background-image:{{item.icon}};"></span>
                                            <span class="lyteDrawerMiniLabel">{{item[ltPropUserValue]}}</span>
                                        <% } else {%>
                                            {{item[ltPropUserValue]}}
                                        <% } %>
                                    </lyte-drawer-item>
                                <%}else{%>
                                    <lyte-drawer-item data-value={{item}}>
                                        {{item}}
                                    </lyte-drawer-item>
                                <%}
                            })%>
                        </lyte-drawer-body>
                    <%}%>
                </div>
            </div>
            <div class="lyteDrawerContent">
                <lyte-yield yield-name="drawerContent">
                </lyte-yield>
            </div>
            <%if(ltPropFreeze){%>
                <lyte-drawer-freeze ontransitionend="{{action('updateFreezeLayerStyle', this)}}">
                </lyte-drawer-freeze>
            <%}%>
        </div>
    <%}%>
</template>
