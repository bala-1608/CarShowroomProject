<template tag-name="lyte-scheduler">
	<lyte-scheduler-header class="{{if(ltPropShowWeekNumber,'lyteSchedulerWeekNumberShown','')}}">
		<%if(ltPropSchedulerHeaderYield){%>
			<lyte-yield yield-name='scheduler-header'></lyte-yield>
		<%}else{%>
			<div class="lyteSchedulerDefaultHeader">
				<lyte-scheduler-view>
					<lyte-button-group lt-prop-selected='{{ltPropSchedulerView}}' lt-prop-type='radiobutton'
						lt-prop-appearance="fill" on-select='{{method("ChangeSchedulerView")}}'>
						<template is="registerYield" yield-name="yield">
							<lyte-button lt-prop-value="day">
								<template is="registerYield" yield-name="text">
									{{lyteUiI18n("day")}} 
								</template>
							</lyte-button>
							<lyte-button lt-prop-value="week">
								<template is="registerYield" yield-name="text">
									{{lyteUiI18n("week")}} 
								</template>
							</lyte-button>
							<lyte-button lt-prop-value="month">
								<template is="registerYield" yield-name="text">
									{{lyteUiI18n("month")}}
								</template>
							</lyte-button>
						</template>
					</lyte-button-group>
				</lyte-scheduler-view>
				<div class="lyteSchedulerDateNavigator">
					<lyte-scheduler-icon class='lyteSchedulerStartIcon' onclick='{{action("hideandShowCalender",event)}}' tabindex="0" role="button" lt-prop-aria-keydown="true">
						<%if(ltPropyieldNav){%>
							<lyte-yield yield-name='scheduler-nav-icon'></lyte-yield>
						<%}%>
					</lyte-scheduler-icon>
					<scheduler-Start-date class='lyteSchedulerStartDate' tabindex="-1" aria-hidden="true"> {{ltCurrStartDate}} </scheduler-Start-date>
					<%if(ltPropSchedulerView == 'week'){%>
						<span class="lyteSchedulerTitleSeparator"  tabindex="-1" aria-hidden="true">To</span>
						<scheduler-end-date class='lyteSchedulerEndDate'  tabindex="-1" aria-hidden="true"> {{ltCurrEndDate}} </scheduler-end-date>
					<%}%>
				</div>
				<lyte-scheduler-title tabindex="0" >
					<span class="lyteSchedulerTitleDate">{{ltdisplayCurrDate}}</span>
					<span class="lyteSchedulerTitleDay">{{lyteUiI18n(ltPropCurDay)}}</span>
					<%if(ltPropSchedulerView=='day' ){%>
						<span class="lyteSchedulerWeekNumber lyteSchedulerDayView"
							lyte-if="{{ltPropShowWeekNumber}}">
							{{lyteSchedulerUiFindWeek(startDateOfView,ltPropSchedulerView)}}
						</span>
					<%}%>
				</lyte-scheduler-title>
				<lyte-scheduler-nav tabindex="-1">
					<span role="button" class='lyteSchedulerNavLeft' tabindex="0" lt-prop-aria-keydown="true">
						<span class="lyteVisuallyHidden"> Previous {{ltPropSchedulerView}} </span>
					</span>
					<lyte-button onclick="{{action('today',event)}}" class='schedulerToday'>
						<template is='registerYield' yield-name='text'>
							{{lyteUiI18n(todayButton)}}
						</template>
					</lyte-button>
					<span role="button" class='lyteSchedulerNavRight' tabindex="0" lt-prop-aria-keydown="true">
						<span class="lyteVisuallyHidden"> Next {{ltPropSchedulerView}} </span>
					</span>
				</lyte-scheduler-nav>
				<lyte-yield yield-name='scheduler-selected-User' class="lyteSchedulerSelectedUser"></lyte-yield>
			</div>
		<%}%>
		<%if( ltPropMultiUserView && !ltPropSchedulerSearchYield){%>
			<%if(selectedUserArr.length> 0){%>
				<div>
					<div>
						<%selectedUserArr.forEach(function(item){%>
							<div>
								<lyte-yield yield-name='scheduler-user-icon'
									scheduler-user={{ltPropSchedulerUser[item]}}>
								</lyte-yield>
							</div>
							<%})%>
					</div>
					<div onclick="{{action('clearSelection')}}">
						clear
					</div>
				</div>
			<%}%>
		<%}%>
	</lyte-scheduler-header>
	<lyte-scheduler-body>
		<div lyte-switch={{ltPropSchedulerView}} class="lyteSchedulerWrapperClass">
			<lyte-scheduler-month lyte-case="month" lyte-break>
				<div class="{{if(ltPropMultiUserView, 'lyteSchedulerMultiUserView', '')}} lyteSchedulerMonthViewWrapper lyteSchedulerViewWrapper">
					<table class="lyteSchedulerViewMainTable lyteSchedulerMonthView">
						<%if(!ltPropMultiUserView ){%>
							<thead>
								<tr class="lyteSchedulerMonthViewHead">
									<%ltPropDateArray[0].forEach(function(item,index){%>
										<th class="lyteSchedulerMonthTh {{item.buisness}}">
											{{lyteUiI18n(lyteUiSchedulerLabelFormat('ddd',item.month,item.date,ltPropDisplayYear))}}
										</th>
									<%})%>
								</tr>
							</thead>
						<%}%>
						<tbody class="lyteSchedulerMonthViewBody">
							<%ltPropDateArray.forEach(function(week){%>
								<tr>
									<%week.forEach(function(item,index){%>
										<td
											class='lyteSchedulerDate lyteSchedulerMenuQuerySelector {{if(ifEquals(item.current_month,true),"lyteSchedulerCurrentMonthDate","lyteSchedulerOtherMonthDate")}} lyteSchedulerAllDayEvent {{item.buisness}} {{if(ifEquals(item.currentDate,true),"lyteSchedulerCurrDate","")}}'>
											<div class='lyteSchedulerMonthEventsWrap scheduler-event-div'
												data-date={{lyteUiSchedulerGetDate(item.val)}}>
												<%if( ltPropMultiUserView ){%>
													<div lyte-if="{{item.currentDate}}" class="lyteSchedulerMonthTodayLabel">Today</div>
													<div class="lyteSchedulerMonthYearLabel"
														onclick="{{action('onDateClick',event,item.val)}}">
														<span>{{lyteUiSchedulerMonthshortForm(item.month)}}</span>
														<span>{{item.year}}</span>
													</div>
													<div class="lyteSchedulerMultiUserMonthViewDateDayLabel"
														onclick="{{action('onDateClick',event,item.val)}}">
														<span
															class="lyteSchedulerMultiUserMonthViewDateLabel">{{item.date}}</span>
														<span
															class="lyteSchedulerMultiUserMonthViewDayLabel">{{lyteUiSchedulerLabelFormat('ddd',item.month,item.date,ltPropDisplayYear)}}</span>
													</div>
												<%}else{%>
													<span class="lyteSchedulerDayNumber" onclick="{{action('onDateClick',event,item.val)}}">{{item.date}}</span>
												<%}%>
												<%if(!index){%>
													<div class="lyteSchedulerWeekNumber"
														lyte-if="{{ltPropShowWeekNumber}}">
														{{lyteSchedulerUiFindWeek(item.val)}}
													</div>
												<%}%>
												<lyte-yield yield-name='scheduler-date' scheduler-date='{{item.val}}'></lyte-yield>
												<%if(item.events){%>
													<%if( ltPropMultiUserView ){%>
														<%item.events.forIn(function(value,key){%>
															<lyte-scheduler-event-tag
																					class="{{value.class}} {{if(!item.editable,'lyteSchedulerNoDrag','')}}"
																					lt-prop-event={{value}}
																					data-id={{value.id}}
																					id="u{{value.id}}"
																					event-render="{{method('eventRender')}}"
																					onclick="{{action('onSchedulerEventClick',value ,this,key)}}"
																					onmouseover="{{action('onSchedulerEventHover',value,this)}}"
																					onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}">
																<lyte-yield
																	yield-name='scheduler-event'
																	scheduler-user="{{lyteUiSchedulergetUserData(key,ltPropSchedulerUser)}}"
																	scheduler-event={{value}}>
																</lyte-yield>

																<%if(value.length> 1){%>
																	<template is="yield"
																		yield-name="scheduler-event-badge">
																		<div onclick='{{action("hiddenUserEvent",event,value,key)}}'
																			class="lyteSchedulerEventMoreBtn lyteSchedulerUserMoreBtn">
																			{{value.length}}
																		</div>
																	</template>
																<%}%>
															</lyte-scheduler-event-tag>
														<%})%>
														<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
															onclick='{{action("hiddenEvent",event,hiddenObj,item.val)}}'>
															{{lyteUiSchedulerhiddenEvent(hiddenObj,lyteUiSchedulerGetDate(item.val),this)}}
														</div>
													<%}else{%>
													<%item.events.forEach(function(event,index){%>
															<!-- {{lyteUiI18n('{{lyteUiI18n('all-day')}}')}} Resize -->	
														<lyte-scheduler-event-tag 
															class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
															lt-prop-event={{event}}
															data-id={{event.id}}
															id="u{{event.id}}"
															event-index = {{index}}
															event-render="{{method('eventRender')}}"
															onclick="{{action('onSchedulerEventClick',event ,this)}}"
															onmouseover="{{action('onSchedulerEventHover',event,this)}}"
															onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}"
															lyte-if={{lyteUiSchedulerEvent(event)}}>
															<lyte-yield
																yield-name='scheduler-event'
																scheduler-event={{event}}>
															</lyte-yield>
															<span lyte-if="{{lyteUiSchedulerIsResize(week,event,ltPropFormat,'start')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalLeftResize"></span>
															<span lyte-if="{{lyteUiSchedulerIsResize(week,event,ltPropFormat,'end')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalRightResize"></span>
														</lyte-scheduler-event-tag>
													<%})%>
													<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
														onclick='{{action("hiddenEvent",event,hiddenObj,item.val)}}'>
														{{lyteUiSchedulerhiddenEvent(hiddenObj,lyteUiSchedulerGetDate(item.val),this)}}
													</div>
												<%}%>
											<%}%>
											</div>
										</td>
									<%})%>
								</tr>
							<%})%>
						</tbody>
					</table>
				</div>
			</lyte-scheduler-month>
			<lyte-scheduler-week lyte-case='week' lyte-break>
				<%if( ltPropMultiUserView ){%>
					<div class="lyteSchedulerMultiUserView lyteSchedulerWeekViewWrapper lyteSchedulerViewWrapper {{if(ltPropWorkingDayOnly,'lyteSchedulerBusinessDayOnly','')}} ">
						<table class='lyteSchedulerViewMainTable lyteSchedulerWeekView '>
							<thead>
								<tr class='lyteSchedulerWeekViewHeader'>
									<th class='lyteSchedulerFirstColHeader'>
										<%if(ltPropSchedulerSearch){%>
											<lyte-search
												lt-prop-query-selector='{"scope" : "lyte-popover-content", "search" : ".lyteSchedulerUserSearch"}'
												on-focus="{{method('openUserSearch')}}">
											</lyte-search>
										<%}else if(ltPropSchedulerSearchYield){%>
											<lyte-yield yield-name='lyteSchedulerSearchYield'>
											</lyte-yield>
										<%}%>
									</th>
									<%ltPropDateArray.forEach(function(item , index){%>
										<th class='lyteSchedulerWeekTh {{item.buisness}} {{if(ifEquals(item.currentDate,true),"lyteSchedulerCurrDate","")}}'
											onclick="{{action('onDateClick',event,item.val)}}">
											<%if(!index){%>
												<span class="lyteSchedulerWeekNumber"
													lyte-if="{{ltPropShowWeekNumber}}">
													{{lyteSchedulerUiFindWeek(item.val)}}
												</span>
												<%}%>
													<%if(ltPropSchedulerLabelFormat){%>
														<div>
															{{lyteUiSchedulerLabelFormat(ltPropSchedulerLabelFormat,item.month,item.date,ltPropDisplayYear)}}
														</div>
														<%}else{%>
															<div class="lyteSchedulerMonthLabel">{{lyteUiI18n(month[item.month])}}
															</div>
															<div>
																<span
																	class="lyteSchedulerDateLabel">{{lyteUiI18n(item.date)}}</span>
																<span
																	class="lyteSchedulerDayLabel">{{lyteUiI18n(label[index])}}</span>
															</div>
															<%}%>
										</th>
										<%})%>
								</tr>
							</thead>
							<tbody>
								<%ltPropSchedulerUser.forEach(function(user,index){%>
									<%if(lyteUiSchedulerisSearch(selectedUserArr,index)){%>
										<tr data-userid={{user.id}} class='lyteSchedulerMultiUserRow'>
											<td class="lyteSchedulerUserCol">
												<lyte-scheduler-user lt-prop-userid={{user.id}}>
													<lyte-yield yield-name='scheduler-user' scheduler-user={{user}}
														scheduler-event-count="{{lyteUiSchedulerEventCount(ltPropDateArray,user,hiddenObj)}}">
													</lyte-yield>
												</lyte-scheduler-user>
											</td>
											<%ltPropDateArray.forEach(function(item){%>
												<td
													class='{{item.buisness}} {{if(ifEquals(item.currentDate,true),"lyteSchedulerCurrDate","")}} lyteSchedulerDate lyteSchedulerMenuQuerySelector lyteSchedulerAllDayEvent'>
													<div class="scheduler-event-div"
														data-date={{lyteUiSchedulerGetDate(item.val)}}>
															<!-- {{lyteUiI18n('{{lyteUiI18n('all-day')}}')}} Resize -->
														<%if(item.events){%>
															<%item.events[user.id].forEach(function(event,index){%>
																<lyte-scheduler-event-tag event-index = {{index}}
																	class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
																	lt-prop-event={{event}} data-id={{event.id}}
																	id="u{{event.id}}"
																	event-render="{{method('eventRender')}}"
																	onclick="{{action('onSchedulerEventClick',event ,this)}}"
																	onmouseover="{{action('onSchedulerEventHover',event,this)}}"
																	onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}"
																	lyte-if="{{lyteUiSchedulerEvent(event)}}">
																	<lyte-yield yield-name='scheduler-event'
																		scheduler-event={{event}}>
																	</lyte-yield>
																	<span lyte-if="{{lyteUiSchedulerIsResize(ltPropDateArray,event,ltPropFormat,'start')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalLeftResize"></span>
																	<span lyte-if="{{lyteUiSchedulerIsResize(ltPropDateArray,event,ltPropFormat,'end')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalRightResize"></span>
																</lyte-scheduler-event-tag>
															<%})%>
														<%}%>
													</div>
													<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
														onclick='{{action("hiddenEvent",event,hiddenObj,item.val,user.id)}}'>
														{{lyteUiSchedulerhiddenEvent(hiddenObj,lyteUiSchedulerGetDate(item.val),this,user.id)}}
													</div>
												</td>
											<%})%>
										</tr>
									<%}%>
								<%})%>
							</tbody>
						</table>
					</div>
				<%}else{%>
					<div class="lyteSchedulerWeekViewWrapper lyteSchedulerViewWrapper {{if(ltPropWorkingDayOnly,'lyteSchedulerBusinessDayOnly','')}}">
						<div class="lyteSchedulerAllDayHighlight"></div>
						<div class="lyteSchedularWeekViewInnerWrapper">
							<table class='lyteSchedulerViewMainTable lyteSchedulerWeekView '>
								<thead>
									<tr class='lyteSchedulerWeekViewHeader'>
										<th class='lyteSchedulerWeekTh'></th>
										<%ltPropDateArray.forEach(function(item,index){%>
											<th class='lyteSchedulerWeekTh {{if(ifEquals(item.currentDate,true),"lyteSchedulerCurrDate","")}} {{item.buisness}}'
												onclick="{{action('onDateClick',event,item.val)}}">
												<%if(ltPropSchedulerLabelFormat){%>
													<div>
														{{lyteUiSchedulerLabelFormat(ltPropSchedulerLabelFormat,item.month,item.date,ltPropDisplayYear,item)}}
													</div>
													<%if(!index){%>
														<span class="lyteSchedulerWeekNumber"
															lyte-if="{{ltPropShowWeekNumber}}">
															{{lyteSchedulerUiFindWeek(item.val)}}
														</span>
													<%}%>
												<%}else{%>
													<div class="lyteSchedulerMonthLabel">
														{{lyteUiI18n(month[item.month])}}
													</div>
													<div>
														<span class="lyteSchedulerDateLabel">{{item.date}}</span>
														<span class="lyteSchedulerDayLabel">{{lyteUiI18n(label[index])}}</span>
													</div>
													<%if(!index){%>
														<span class="lyteSchedulerWeekNumber" lyte-if="{{ltPropShowWeekNumber}}">
															{{lyteSchedulerUiFindWeek(item.val)}}
														</span>
													<%}%>
												<%}%>
											</th>
										<%})%>
									</tr>
									<tr class="lyteSchedulerWeekViewAllDayRow">
										<td>
											<div class="lyteSchedulerSingleUserAllDay">
												{{lyteUiI18n('all-day')}} ({{lyteUiSchedulerAllDayCount(ltPropProcessedData,hiddenObj,startDateOfView,ltPropSchedulerView,ltPropMultiUserView)}})
											</div>
										</td>
										<%ltPropDateArray.forEach(function(item,index){%>
											<td class='lyteSchedulerDate lyteSchedulerMenuQuerySelector lyteSchedulerAllDayEvent {{item.buisness}}'  data-index="{{index}}">
												<div class='scheduler-event-div' data-date={{lyteUiSchedulerGetDate(item.val)}}>
													<%if(item.allDay){%>
														<!-- {{lyteUiI18n('all-day')}} Resize -->
														<%item.allDay.forEach(function(event,index){%>
															<%if(event){%>
																<lyte-scheduler-event-tag
																	event-index = {{index}}
																	class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
																	data-group="{{key}}" lt-prop-event={{event}}
																	data-id={{event.id}}
																	id="u{{event.id}}"
																	event-render="{{method('eventRender')}}"
																	onclick="{{action('onSchedulerEventClick',event ,this)}}"
																	onmouseover="{{action('onSchedulerEventHover',event,this)}}"
																	onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}"
																	lyte-if="{{lyteUiSchedulerEvent(event)}}">
																	<lyte-yield yield-name='scheduler-event'
																		scheduler-event={{event}}>
																	</lyte-yield>
																	<span lyte-if="{{lyteUiSchedulerIsResize(ltPropDateArray,event,ltPropFormat,'start')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalLeftResize"></span>
																	<span lyte-if="{{lyteUiSchedulerIsResize(ltPropDateArray,event,ltPropFormat,'end')}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalRightResize"></span>
																</lyte-scheduler-event-tag>
															<%}%>
														<%})%>
															<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
																onclick='{{action("hiddenEvent",event,hiddenObj.allDay,item.val,undefined,undefined,ltPropSchedulerView,true)}}'>
																{{lyteUiSchedulerhiddenEvent(hiddenObj.allDay,lyteUiSchedulerGetDate(item.val),this)}}
															</div>
														<%}%>
												</div>
											</td>
										<%})%>
									</tr>
								</thead>
								<tbody>
									<%timeLine.forEach(function(time,index){%>
										<%timelineArray.forEach(function(min){%>
											<tr id='T{{lyteUiSchedulerTimeFormat(time,min,null,false,true)}}'
											data-time="{{lyteUiSchedulerTimeFormat(time,min,null,false)}}"
												class='lyteSchedulerDate lyteSchedulerTimeLineEvent {{lyteUiSchedulerBusinessHour(ltPropBusinessHour,this)}}'>
												<td style='width: 100px;'>
													<div class="lyteSchedulerHourLabel">
														{{lyteUiSchedulerTimeFormat(time,min,ltPropContinentalTimeFormat,true)}}</div>
													<div class="lyteSchedulerHourQuarterLine"></div>
													<div class="lyteSchedulerHourHalfLine"></div>
													<div class="lyteSchedulerHourQuarterLine"></div>
												</td>
												<td data-index="0" class='lyteSchedulerMenuQuerySelector'></td>
												<td data-index="1" class='lyteSchedulerMenuQuerySelector'></td>
												<td data-index="2" class='lyteSchedulerMenuQuerySelector'></td>
												<td data-index="3" class='lyteSchedulerMenuQuerySelector'></td>
												<td data-index="4" class='lyteSchedulerMenuQuerySelector'></td>
												<%if(!ltPropWorkingDayOnly){%>
													<td data-index="5" class='lyteSchedulerMenuQuerySelector'></td>
													<td data-index="6" class='lyteSchedulerMenuQuerySelector'></td>
												<%}%>
											</tr>
										<%})%>
									<%})%>
								</tbody>
							</table>
							<div class="lyteSchedulerOverlay">
								<table class="lyteSchedulerWeekOverlayTable" cellpadding=0>
									<tbody>
										<tr>
											<td style="width:100px"></td>
											<%ltPropDateArray.forEach(function(item){%>
												<td class='lyteSchedulerDate  {{if(ifEquals(item.currentDate,true),"lyteSchedulerCurrDate","")}} {{item.buisness}}'>
													<div class='scheduler-event-div'
														data-date={{lyteUiSchedulerGetDate(item.val)}}>
														<%if(item.events){%>
															<%item.events.forIn(function(events,key){%>
																<%if(key !=='allDayEvent' ){
																	events.forEach(function(colArray){
																		colArray.forEach(function(event){%>
																			<lyte-scheduler-event-tag 
																				class="{{event.event.class}} {{if(!event.event.editable,'lyteSchedulerNoDrag','')}}"
																				data-group="{{key}}" lt-prop-event={{event.event}}
																				data-id={{event.event.id}}
																				id="u{{event.event.id}}"
																				lt-prop-col="{{event.col}}"
																				lt-prop-intersect="{{event.intersect}}"
																				lt-prop-prevelem="{{event.prevElem}}"
																				lt-prop-count = {{events.length}}
																				event-render="{{method('eventRender')}}"
																				onclick="{{action('onSchedulerEventClick',event ,this)}}"
																				onmouseover="{{action('onSchedulerEventHover',event,this)}}"
																				onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}"
																				data-group="{{scheduleroup}}">
																				<lyte-yield yield-name='scheduler-event'
																					scheduler-event={{event.event}}>
																				</lyte-yield>
																				<span class="lyteSchedulerGrabResize" lyte-if="{{event.event.editable}}"></span>
																			</lyte-scheduler-event-tag>
																	<%})})%>
																	<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
																		data-group='{{key}}'
																		onclick='{{action("hiddenEvent",event,hiddenObj,item.val)}}' lyte-if="{{hiddenObj[key]}}">
																		{{lyteUiSchedulerhiddenEvent(hiddenObj,lyteUiSchedulerGetDate(item.val),this,'',key)}}
																	</div>
																<%}%>
															<%})%>
														<%}%>
													</div>
												</td>
											<%})%>
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>
				<%}%>
			</lyte-scheduler-week>
			<lyte-scheduler-day lyte-case='day' lyte-break>
				<%if(ltPropMultiUserView){%>
					<div class="scrollContainer lyteSchedulerMultiUserView lyteSchedulerDayViewWrapper lyteSchedulerViewWrapper">
						<table>
							<thead>
								<tr class='lyteSchedulerMultiUserRow'>
									<th class="lyteSchedulerFirstColHeader lyteSchedulerFixedCol">
										<%if(ltPropSchedulerSearch){%>
											<lyte-search lt-prop-query-selector='{"scope" : "lyte-popover-content", "search" : ".lyteSchedulerUserSearch"}'
												on-focus="{{method('openUserSearch')}}">
											</lyte-search>
										<%}else if(ltPropSchedulerSearchYield){%>
												<lyte-yield yield-name='lyteSchedulerSearchYield'>
												</lyte-yield>
										<%}%>
									</th>
									<th class="lyteSchedulerAllDayTh">
										<div class="lyteSchedulerMultiUserAllDay">{{lyteUiI18n('all-day')}}
											({{lyteUiSchedulerAllDayCount(ltPropProcessedData,hiddenObj,startDateOfView,ltPropSchedulerView,ltPropMultiUserView)}})
										</div>
									</th>
									<%timeLine.forEach(function(item,index){%>
										<th>
											{{lyteUiSchedulerTimeFormat(item,0,ltPropContinentalTimeFormat,true)}}
											<div class="lyteSchedulerHourSplitLineWrap">
												<span class="lyteSchedulerHourSplitLine"></span>
												<span class="lyteSchedulerHourSplitLine"></span>
												<span class="lyteSchedulerHourSplitLine"></span>
												<span class="lyteSchedulerHourSplitLine"></span>
												<span class="lyteSchedulerHourSplitLine"></span>
											</div>
											<div class="lyteSchedulerHourSeparatorLine"></div>
										</th>
									<%})%>
								</tr>
							</thead>
							<tbody>
								<%ltPropSchedulerUser.forEach(function(user,index){%>
									<%if(lyteUiSchedulerisSearch(selectedUserArr,index)){%>
										<tr class='lyteSchedulerMultiUserRow' data-userid={{user.id}}>
											<td class="lyteSchedulerUserCol lyteSchedulerFixedCol">
												<lyte-scheduler-user lt-prop-user={{user.id}}>
													<lyte-yield yield-name='scheduler-user' scheduler-user={{user}}
														scheduler-event-count="{{lyteUiSchedulerEventCount(ltPropDateObj,user,hiddenObj,startDateOfView)}}">
													</lyte-yield>
												</lyte-scheduler-user>
											</td>
											<td class='lyteSchedulerDate lyteSchedulerMenuQuerySelector lyteSchedulerAllDayEvent'>
												<div class='scheduler-event-div ' data-date={{startDateOfView}}>
													<%(ltPropDateObj.allDay)[user.id].forEach(function(event,index){%>
														<lyte-scheduler-event-tag
															event-index="{{index}}"
															class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
															lt-prop-event={{event}} data-id={{event.id}}
															id="u{{event.id}}"
															event-render="{{method('eventRender')}}"
															onclick="{{action('onSchedulerEventClick',event ,this)}}"
															onmouseover="{{action('onSchedulerEventHover',event,this)}}"
															onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}">
															<lyte-yield yield-name='scheduler-event'
																scheduler-event={{event}}>
															</lyte-yield>
														</lyte-scheduler-event-tag>
														<%})%>
															<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
																onclick='{{action("hiddenEvent",event,hiddenObj.allDay,startDateOfView,user.id,null,ltPropSchedulerView,true)}}'>
																{{lyteUiSchedulerhiddenEvent(hiddenObj.allDay,startDateOfView,this,user.id)}}
															</div>
												</div>
											</td>

											<%timeLine.forEach(function(time,index){%>
												<td class='lyteSchedulerTimeLineEvent lyteSchedulerDate lyteSchedulerMenuQuerySelector'>
													<div id='T{{lyteUiSchedulerTimeFormat(time,null,null,false,true)}} '
														data-time="{{lyteUiSchedulerTimeFormat(time,min,null,false)}}"
														class="lyteSchedulerMultiUserViewEventElem scheduler-event-div">
															<!-- {{lyteUiI18n('all-day')}} Resize -->
														<%if( ltPropDateObj[user.id][time] ){%>
															<%(ltPropDateObj[user.id][time]).forEach(function(eventRow,rowIndex){
																eventRow.forEach(function(event,index){
																	if(!lyteUiIsEmptyObject(event) && !event.hiddenid){%>
																		<lyte-scheduler-event-tag
																			class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
																			lt-prop-event={{event}}
																			event-index="{{rowIndex}}"
																			data-group="{{schedulerGroup}}" data-id={{event.id}}
																			id="u{{event.id}}"
																			event-render="{{method('eventRender')}}"
																			onclick="{{action('onSchedulerEventClick',event ,this)}}"
																			onmouseover="{{action('onSchedulerEventHover',event,this)}}"
																			onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}">
																			<lyte-yield yield-name='scheduler-event'
																				scheduler-event={{event}}>
																			</lyte-yield>
																			<span lyte-if="{{event.editable}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalLeftResize"></span>
																			<span lyte-if="{{event.editable}}" class="lyteSchedulerHorizontalResizeIcon lyteSchedulerHorizontalRightResize"></span>

																		</lyte-scheduler-event-tag>
																	<%}%> 
															<%})})%>
														<%}%>
													</div>
													<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide'
														onclick='{{action("hiddenEvent",event, hiddenObj[startDateOfView][user.id] ,startDateOfView,user,time,ltPropSchedulerView)}}'>
														{{lyteUiSchedulerhiddenEvent(hiddenObj,startDateOfView,this,user.id,null,time,ltPropSchedulerView)}}
													</div>
												</td>
												<%})%>

										</tr>
									<%}%>
								<%})%>
							</tbody>
						</table>
					</div>
					<div class="lyteSchedulerAllDayHighlight"></div>
					<scheduler-scroll-nav class='lyteSchedulerLeftNav' onclick="{{action('scrollnav',event)}}"></scheduler-scroll-nav>
					<scheduler-scroll-nav class='lyteSchedulerRightNav' onclick="{{action('scrollnav',event)}}"></scheduler-scroll-nav>
				<%} else{%>
					<div class="lyteSchedulerDayViewWrapper lyteSchedulerViewWrapper">
						<div class="lyteSchedularDayViewInnerWrapper">
							<table class='lyteSchedulerViewMainTable lyteSchedulerDayView'>
								<tr class='lyteSchedulerDayViewAllDayRow'>
									<td lyte-if="{{ltPropMultiUserView}}">{{lyteUiI18n('all-day')}}</td>
									<td lyte-else>
										<div class="lyteSchedulerSingleUserAllDay">
											{{lyteUiI18n('all-day')}} ({{lyteUiSchedulerAllDayCount(ltPropProcessedData,hiddenObj,startDateOfView,ltPropSchedulerView,ltPropMultiUserView)}})
										</div>
									</td>
									<td class='lyteSchedulerDate lyteSchedulerMenuQuerySelector lyteSchedulerAllDayEvent'>
										<div class='scheduler-event-div' data-date={{startDateOfView}}>
											<%ltPropDateObj.allDay.forEach(function(event,index){%>
												<%if(event.allDayEvent){%>
														<!-- {{lyteUiI18n('all-day')}} Resize -->
													<lyte-scheduler-event-tag
														event-index="{{index}}"
														class="{{event.class}} {{if(!event.editable,'lyteSchedulerNoDrag','')}}"
														lt-prop-event={{event}} data-id={{event.id}}
														id="u{{event.id}}"
														event-render="{{method('eventRender')}}"
														onclick="{{action('onSchedulerEventClick',event ,this)}}"
														onmouseover="{{action('onSchedulerEventHover',event,this)}}"
														onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}"
														lyte-if="{{lyteUiSchedulerEvent(event)}}">
														<lyte-yield yield-name='scheduler-event'
															scheduler-event={{event}}>
														</lyte-yield>
													</lyte-scheduler-event-tag>
													<%}%>
											<%})%>
											<div class='lyteSchedulerEventMoreBtn lyteSchedulerEventMoreBtnHide '
												onclick='{{action("hiddenEvent",event,hiddenObj,startDateOfView,undefined,undefined,ltPropSchedulerView)}}'>
												{{lyteUiSchedulerhiddenEvent(hiddenObj,startDateOfView,this,user.id)}}
											</div>
										</div>
									</td>
								</tr>
								<%timeLine.forEach(function(time,index){%>
									<%timelineArray.forEach(function(min){%>
										<tr id='T{{lyteUiSchedulerTimeFormat(time,min,null,false,true)}}'
											data-time="{{lyteUiSchedulerTimeFormat(time,min,null,false)}}"
											class='lyteSchedulerDate lyteSchedulerMenuQuerySelector lyteSchedulerTimeLineEvent {{lyteUiSchedulerBusinessHour(ltPropBusinessHour,this)}}'>
											<td>
												<div class="lyteSchedulerHourLabel">
													{{lyteUiSchedulerTimeFormat(time,min,ltPropContinentalTimeFormat,true)}}
												</div>
												<div class="lyteSchedulerHourQuarterLine"></div>
												<div class="lyteSchedulerHourHalfLine"></div>
												<div class="lyteSchedulerHourQuarterLine"></div>
											</td>
											<td>&nbsp;</td>
										</tr>
									<%})%>
								<%})%>
							</table>
							<div class="lyteSchedulerOverlay">
								<table class="lyteSchedulerDayOverlayTable">
									<thead>
										<tr class="lyteSchedulerDayViewAllDayRow">
											<td><div class="lyteSchedulerSingleUserAllDay">{{lyteUiI18n('all-day')}}</div></td>
											<td class='lyteSchedulerDate lyteSchedulerAllDayEvent'>
												<div class='scheduler-event-div'>
													<div></div>
												</div>
											</td>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td></td>
											<td class='lyteSchedulerDate'>
												<div class='scheduler-event-div'
													data-date={{startDateOfView}}>
													<%ltPropDateObj.timeline.forEach(function(column,index){
														column.forEach(function(event,Index){%>
															<lyte-scheduler-event-tag event-index="{{index}}"
																class="{{event.event.class}} {{if(!event.event.editable,'lyteSchedulerNoDrag','')}}"
																lt-prop-event={{event.event}} data-id={{event.event.id}}
																id="u{{event.event.id}}"
																lt-prop-col="{{event.col}}"
																lt-prop-interset="{{event.interset}}"
																lt-prop-prevelem="{{event.prevElem}}"
																lt-prop-count = {{ltPropDateObj.timeline.length}}
																event-render="{{method('eventRender')}}"
																onclick="{{action('onSchedulerEventClick',event ,this)}}"
																onmouseover="{{action('onSchedulerEventHover',event,this)}}"
																onmousedown="{{action('onSchedulerEventMouseDown',event,this)}}">
																<lyte-yield yield-name='scheduler-event' scheduler-event={{event.event}}>
																</lyte-yield>
																<span class="lyteSchedulerGrabResize" lyte-if="{{event.event.event.editable}} && {{ltPropMultiUserView}}"></span>
															</lyte-scheduler-event-tag>
														<%})%>
													<%})%>
												</div>
											</td>
										</tr>
									</tbody>
								</table>
							</div>			
							<div class="lyteschedulerCurrentTimeLine">
								<div class="lyteschedulerLine"></div>
							</div>
						</div>
						<div class="lyteSchedulerAllDayHighlight"></div>
					</div>
				<%}%>
			</lyte-scheduler-day>
		</div>
	</lyte-scheduler-body>
	<lyte-beta-popover id='lyteSchedulerHiddenEvent' lt-prop-allow-multiple={{ltPropPopoverAllowMultiple}}
		lt-prop-origin-elem='#schedulerPopover' lt-prop-header-padding="" lt-prop-content-padding="" 
		lt-prop-freeze="{{ltPropHiddenEventPopoverFreeze}}" lt-prop-wrapper-class="lyteSchedulerMoreEventsPopupWrapper {{if(ltPropUserHiddenEvent,'lyteSchedulerUsersMoreEventsPopupWrapper','')}} {{ltPropHiddenPopoverWrapper}}"
		on-close='{{method("closeschedulerpopover")}}' lt-prop-allow lt-prop-scrollable="true">
		<template is='registerYield' yield-name='popover'>
			<lyte-popover-header>
				<div class="lyteSchedulerMoreEventsPopTitleMonthVal"></div>
				<div class="lyteSchedulerMoreEventsPopTitleDayVal"></div>
				<lyte-yield yield-name='scheduler-header-hidden-event' scheduler-hidden-user={{hiddenUser}} lyte-if="{{hiddenUser}}">
				</lyte-yield>
			</lyte-popover-header>
			<lyte-popover-content>
				<lyte-yield yield-name='scheduler-hidden-event' scheduler-hidden-event={{hiddenEvent}}>
				</lyte-yield>
			</lyte-popover-content>
		</template>
	</lyte-beta-popover>
	<lyte-beta-popover lt-prop-content-padding="0px" lt-prop-allow-multiple={{ltPropPopoverAllowMultiple}}
		lt-prop-freeze={{ltPropCalendarPopoverFreeze}} lt-prop-type='box' lt-prop-show-close-button="false" id="calendarPopover" lt-prop-bind-to-body="true"
		lt-prop-placement="bottomLeft" on-close='{{method("closeCalender")}}' lt-prop-wrapper-class="{{ltPropCalendarPopoverWrapper}}">
		<template is="registerYield" yield-name="popover" >
			<lyte-popover-content style="padding: 0px;" lyte-if="{{ltPropShowCalendar}}">
				<%if(ltPropSchedulerView == 'month' || !ltPropCalendarHeaderType){%>
					<lyte-calendar lt-prop-header-type="drilldown" on-month-selected='{{method("monthSelected")}}' lt-prop-header-type="{{schedulerCalendarHeader}}"
						on-week-selected='{{method("weekSelected")}}' lt-prop-selection-type={{selectionType}}
						on-date-selected='{{method("dateselect")}}' lt-prop-format="DD-MM-YYYY"
						lt-prop-start-week-day={{if(ifEquals(ltPropWeekStart,undefined),0,ltPropWeekStart)}}
						class='lyteSchedulerCalendar'></lyte-calendar>
				<%}else{%>
					<lyte-calendar lt-prop-header-type="dropdown" on-month-selected='{{method("monthSelected")}}' lt-prop-header-type="{{schedulerCalendarHeader}}"
						on-week-selected='{{method("weekSelected")}}' lt-prop-selection-type={{selectionType}}
						on-date-selected='{{method("dateselect")}}' lt-prop-format="DD-MM-YYYY"
						lt-prop-start-week-day={{if(ifEquals(ltPropWeekStart,undefined),0,ltPropWeekStart)}}
						class='lyteSchedulerCalendar'></lyte-calendar>
				<%}%>
			</lyte-popover-content>
		</template>
	</lyte-beta-popover>
	<lyte-beta-popover id="usersreachPopover" lt-Prop-origin-elem="lyte-search"
		lt-prop-allow-multiple={{ltPropPopoverAllowMultiple}} lt-prop-close-on-body-click="true"
		on-before-close="{{method('onUserSearchClose')}}" lt-prop-freeze="false" lt-prop-type='box'
		lt-prop-show-close-button="false" lt-prop-placement="bottomLeft">
		<template is="registerYield" yield-name="popover">
			<lyte-popover-content>
				<%ltPropSchedulerUser.forEach(function(user,index){%>
					<div class="lyteSchedulerUserSearch">
						<lyte-checkbox lt-prop-name='checkbox' lt-prop-val={{index}}
							on-checked="{{method('boxChecked')}}"
							on-unchecked="{{method('boxUnchecked')}}"></lyte-checkbox>
						<lyte-yield yield-name='scheduler-user-search' scheduler-user={{user}}></lyte-yield>
					</div>
					<%})%>
			</lyte-popover-content>
			<lyte-popover-footer style="padding: 10px 25px 25px;">
				<lyte-button onclick="{{action('cancelUserSelect')}}">
					<template is="registerYield" yield-name="text"> Cancel </template>
				</lyte-button>
				<lyte-button lt-prop-appearance="primary" onclick="{{action('SelectUserSelect')}}">
					<template is="registerYield" yield-name="text"> Done </template>
				</lyte-button>
			</lyte-popover-footer>
		</template>
	</lyte-beta-popover>
	<%if(ltPropSchedulerMenu){%>
		<%if(ltPropSchedulerMenuYeild){%>
			<lyte-menu lt-prop-yield={{ltPropSchedulerMenuYield}} lt-prop-event='click'
				lt-prop-query='.lyteSchedulerMenuQuerySelector' lt-prop-user-value={{ltPropSchedulerMenuUserValue}}
				lt-prop-content={{ltPropSchedulerMenuContent}} lt-prop-system-value={{ltPropSchedulerMenuSystemValue}}
				lt-prop-description={{ltPropScheluerMenuDescription}} lt-prop-id={{ltPropSchedulerMenuId}}
				lt-prop-class={{ltPropSchedulerMenuClass}} lt-prop-position={{ltPropSchedulerMenuPosition}}
				lt-prop-width={{ltPropSchedulerMenuWidth}} lt-prop-height={{ltPropSchedulerMenuHeight}}
				lt-prop-callout={{ltPropSChedulerMenuCallout}} lt-prop-freeze={{ltPropSchedulerMenuFreeze}}
				lt-prop-query-class={{ltPropSchedulerMenuQueryClass}} lt-prop-animate={{ltPropSchedulerMenuAnimate}}
				lt-prop-wrapper-class={{ltPropSchedulerMenuWrapperClass}}
				lt-prop-bind-to-body={{ltPropSchedulerMenuBindToBody}} on-before-open="{{method('menuonbeforeopen')}}"
				on-open="{{method('menuonopen')}}" on-before-close="{{method('menuonbeforeclose')}}"
				on-close="{{method('menuonclose')}}" on-menu-click="{{method('menuonclick')}}">

				<template is="registerYield" yield-name="yield">
					<lyte-yield yield-name='scheduler-menu'></lyte-yield>
				</template>

			</lyte-menu>
		<%}else{%>
			<lyte-menu lt-prop-yield={{ltPropSchedulerMenuYield}} lt-prop-set-css="false" lt-prop-event='click'
				lt-prop-query='.lyteSchedulerMenuQuerySelector' lt-prop-user-value={{ltPropSchedulerMenuUserValue}}
				lt-prop-content={{ltPropSchedulerMenuContent}}
				lt-prop-system-value={{ltPropSchedulerMenuSystemValue}}
				lt-prop-description={{ltPropScheluerMenuDescription}} lt-prop-id={{ltPropSchedulerMenuId}}
				lt-prop-class={{ltPropSchedulerMenuClass}} lt-prop-position={{ltPropSchedulerMenuPosition}}
				lt-prop-width={{ltPropSchedulerMenuWidth}} lt-prop-height={{ltPropSchedulerMenuHeight}}
				lt-prop-callout={{ltPropSChedulerMenuCallout}} lt-prop-freeze={{ltPropSchedulerMenuFreeze}}
				lt-prop-query-class={{ltPropSchedulerMenuQueryClass}} lt-prop-animate={{ltPropSchedulerMenuAnimate}}
				lt-prop-wrapper-class={{ltPropSchedulerMenuWrapperClass}}
				lt-prop-bind-to-body={{ltPropSchedulerMenuBindToBody}}
				on-before-open="{{method('menuonbeforeopen')}}" on-open="{{method('menuonopen')}}"
				on-before-close="{{method('menuonbeforeclose')}}" on-close="{{method('menuonclose')}}"
				on-menu-click="{{method('menuonclick')}}">

				<template is="registerYield" yield-name="yield">
					<lyte-yield yield-name='scheduler-menu'></lyte-yield>
				</template>

			</lyte-menu>
		<%}%>
	<%}%>
</template>