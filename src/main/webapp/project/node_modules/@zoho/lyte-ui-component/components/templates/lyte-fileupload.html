<template tag-name="lyte-fileupload">
	<input class="fileuploadInput {{ltPropClass}}" id = {{ltPropId}} type="file" name={{ltPropName}} onchange="{{action('change', event, this)}}" oncancel="{{action('cancel', event, this)}}" multiple={{ltPropMultiple}} accept={{ltPropAccept}}>
	<div tabindex={{ltPropTabindex}} 
	class="fileUploadWrapper {{fileClass}} {{if(ltPropMultiple, 'multiFileupload', 'singleFileUpload')}} lyteFileUpd{{ltPropAppearance}}Type {{if(ltPropDisabled,'lyteFileUpdDisabled')}} {{maxFileClass}}" 
	ondragenter="{{action('drag', event)}}" 
	ondragover="{{action('drag', event)}}" 
	ondrop="{{action('drop', event)}}" 
	onclick="{{action('click', event)}}" 
	style="outline: none;position: relative;" 
	onpaste = "{{action('paste', event)}}" 
	onkeydown="{{action( 'keydown', event)}}"
	aria-labelledby="{{randomAriaId}}"
	data-tabindex="{{ltPropDataTabindex}}">
		<% if( ltPropYield ){ %>
			<lyte-yield yield-name = "file" queue-list = {{queueList}}  predefined-list ={{predefinedList}}></lyte-yield>
		<% }else{ %>
			<% if( ltPropMultiple ){%>
				<lyte-file-select-area aria-hidden="true">
			 		<lyte-file-message class="lyteFileUpdMsgWrap"> <span class="lyteFileUpdMsg">{{lyteUiI18n(ltPropMessage,"fileupload")}}</span> </lyte-file-message>
				 </lyte-file-select-area>
				 <div class="lyteFileUpdList">
					<% predefinedList.forEach( function( item, index ){ %>
						<div class="lyteFileUpdListFile">
							<div class="lyteFileUpdTypePreview">
								<% if(lyteUiImageFile(item)){ %>
										<img class="lyteFileUpdThumb" src={{item.src}}>
								<% } else{%>
									<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
								<% } %>
							</div>
							<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
							<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
							<lyte-file-close data-value = {{item.id}} role="button" 
							aria-label="{{ariaCloseLabel}} selected {{item.name}} file">
							</lyte-file-close>
						</div>
					<% }) %>
				 	<% queueList.forEach( function( item, index ){ %>
						<div class="lyteFileUpdListFile {{concat('lyteFile', lyteUiCapitalizeName(item.status))}}">
				 			<div class="lyteFileUpdTypePreview">
					 			<% if(lyteUiImageFile(item)){ %>
					 					<img class="lyteFileUpdThumb" src={{item.src}}>
				 				<% } else{%>
				 					<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
				 				<% } %>
			 				</div>
				 			<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
							 <span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
							 <%if(item.percentage != undefined){%>
								<div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
									<div class="lyteFileUpdProgressBar">
										<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
									</div>
								</div>
				 			<%} if(item.status == "error" ){%>
				 				<lyte-file-retry data-value = {{item.id}}
								 role = "button">
									 <span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
									<%if(!ltPropUploadMultiple){%>
										<span class="lyteFileUpdRetryMsg">{{lyteUiI18n(ltPropRetryText,"fileupload")}}</span>
									<%}%>
				 				</lyte-file-retry>
							 <% } %>
							 <span lyte-if="{{item.lyteErrorMsg}}"
							class="lyteFileUpdFailMsg">
								{{item.lyteErrorMsg}}
							</span>
							 <%if((!ltPropUploadMultiple) || ( !item.status || item.status == "error" || item.status == "success" )){%>
								<lyte-file-close aria-level=2 tabindex="0" 
								aria-label="{{ariaCloseLabel}} selected {{item.name}} file"
								role = "button" data-value = {{item.id}} >
								</lyte-file-close>
							<% } %>
				 		</div>
				 	<% }) %>
				  </div>
			<% }else { %>
				<lyte-file-select-area aria-hidden="true">
			 		<lyte-file-message class="lyteFileUpdMsgWrap {{if((queueList.length || predefinedList.length), 'lyteHide', '')}}"> 
			 			<span class="lyteFileUpdMsg">
							{{lyteUiI18n(ltPropMessage,"fileupload")}}
			 			</span> 
			 		</lyte-file-message>
			 		 <div class="lyteFileUpdList" tabindex="0" aria-level="2" aria-label="SelectedFile:{{ariaSelectedFiles}}">
						<% predefinedList.forEach( function( item, index ){ %>
							<div class="lyteFileUpdListFile">
								<div class="lyteFileUpdTypePreview">
									<% if(lyteUiImageFile(item)){ %>
											<img class="lyteFileUpdThumb" src={{item.src}}>
									<% } else{%>
										<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
									<% } %>
								</div>
								<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
								<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
								<lyte-file-close data-value = {{item.id}}
								aria-label="{{ariaCloseLabel}} selected {{item.name}} file"  
								role = "button">
								</lyte-file-close>
							</div>
						<% }) %>
					 	<% queueList.forEach( function( item, index ){ %>
							<div class="lyteFileUpdListFile {{concat('lyteFile', lyteUiCapitalizeName(item.status))}}">
					 			<div class="lyteFileUpdTypePreview">
						 			<% if(lyteUiImageFile(item)){ %>
						 					<img class="lyteFileUpdThumb" src={{item.src}}>
					 				<% } else{%>
					 					<span class="lyteFileUpdTypeIcon {{item.fileType}}"></span>
					 				<% } %>
				 				</div>
					 			<lyte-text class = "lyteFileUpdFileName" lt-prop-value = {{item.name}}></lyte-text>
								<span class="lyteFileUpdFileSize">( {{lyteUiFileSize(item.size, ltPropFileUnit, ltPropDigits)}} )</span>
								<%if(item.percentage != undefined){%>
									<div class="lyteFileUpdFileStatus" data-completed = {{item.percentage}}>
										<div class="lyteFileUpdProgressBar">
											<div class="lyteFileUpdProgressFill" style="width: {{item.percentage}}%"></div>
										</div>
									</div>
					 			<% }if(item.status == "error" ){%>
					 				<lyte-file-retry data-value = {{item.id}} role = "button">
					 					<span class="lyteFileUpdFailMsg">{{lyteUiI18n(ltPropFailureMessage,"fileupload")}}</span>
					 					<span class="lyteFileUpdRetryMsg">
											{{lyteUiI18n(ltPropRetryText,"fileupload")}}
										</span>
					 				</lyte-file-retry>
								<% } %>
								<lyte-file-close data-value = {{item.id}} 
								tabindex="0"
								aria-label="{{ariaCloseLabel}} selected {{item.name}} file" 
								role = "button">
								</lyte-file-close>
					 		</div>
					 	<% }) %>
					  </div>
				 </lyte-file-select-area>
			<% } %>
			 
		<% } %>
		<div lyte-if="{{fileClass}}" ondragleave="{{action('drag', event)}}"  class="lyteFileDragWrapper">
		</div>
	</div>
	<span lyte-if="{{ltPropAria}}" id={{randomAriaId}} style="display: none;">
		SelectedFiles:{{ariaSelectedFiles}}
	</span>
</template>
