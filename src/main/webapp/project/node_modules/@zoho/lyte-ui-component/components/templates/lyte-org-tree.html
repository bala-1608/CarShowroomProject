<template tag-name="lyte-org-tree">
    <div>
        <div></div>
        <div></div>
    </div>
    <div class="lyteOrgTreeWrapper">
        <% lyteOrgTreePopulateArray.forEach(function(item,index){ %>
            <div class="lyteOrgTreeColumn {{if(((index)>=(lyteOrgTreePopulateArray.length - ltPropMinimumExpanded)),'lyteOrgTreeExpandedColumn','lyteOrgTreeShrinkedColumn')}}" column-index="{{index+1}}" onscroll="{{action('scrollVerticalConnector', event , this , index+1 , item)}}">
                <div class="lyteOrgTreeScrollTopWrap">
                    <div class="lyteOrgTreeTopScroll" onclick="{{action('scrollColumnTop' , index)}}"></div>
                </div>
                <% item.forEach(function(val , ind){ %>
                    <div class="lyteOrgTreeElementsWrap" onclick="{{action('openChildLevel' , this , val , index,event)}}" onmousedown="{{action('startDrag' , this)}}" row-index="{{ind+1}}">
                        <div class="lyteOrgTreeChildDropZone">
                            <div class="lyteOrgTreeLeftHorizontalConnect" lyte-if="{{index > 0}}"></div>
                            <div class="lyteOrgTreeElements" row-index="{{ind+1}}">
                                <div class="lyteOrgTreeElementDragHandle"></div>
                                <% if((index)>=(lyteOrgTreePopulateArray.length - ltPropMinimumExpanded)){ %>
                                    <lyte-yield yield-name="orgTreeExpanded" list-value={{val}} class-value="lyteOrgTreeShrinked"></lyte-yield>
                                <% } else { %>
                                    <lyte-yield yield-name="orgTreeShrinked" list-value={{val}} class-value="lyteOrgTreeExpanded"></lyte-yield>
                                <% } %>
                            </div>
                            <div class="lyteOrgTreeBadgeWrapper" lyte-if="{{val[ltPropChildrenCountKey]}}">
                                <div class="lyteOrgTreeChildrenCountBadge">{{val[ltPropChildrenCountKey]}}</div>
                            </div>
                            <div class="lyteOrgTreeRightHorizontalConnect" ></div>
                            <div class="lyteOrgTreeChildPlaceHolder" lyte-if="{{dragRunning}}"></div>
                        </div>
                    </div>
                <% }) %>
                <div class="lyteOrgTreeLoadMoreWrap">
                    <div class="lyteOrgTreeLoadMore lyteOrgTreeBottomScroll" onclick="{{action('loadMoreData' , index)}}"></div>
                </div>
                <div class="lyteOrgTreeVerticalConnect" lyte-if="{{index > 0}}"></div>
                <div class="lyteOrgTreeVerticalBorder" lyte-if="{{index > 0}}"></div>
            </div>
        <% }) %>
    </div>
</template>