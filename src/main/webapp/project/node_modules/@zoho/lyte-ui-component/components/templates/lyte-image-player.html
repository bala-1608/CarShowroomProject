<template tag-name="lyte-image-player">
    <lyte-yield class="lyteImagePlayerHeaderYield" lyte-if = {{ltPropHeaderYield}} yield-name = "image-header" lt-prop-current-item = {{ltPropCurrentItem}}></lyte-yield>
    <lyte-image-item lyte-if = {{ltPropCurrentItem}} aria-selected="{{ltPropCurrentItem.active}}" id = {{item.id}} class = "{{ltPropCurrentItem.class}}" data-index = {{ltPropActive}} data-duration = {{ltPropCurrentItem.duration}} onclick="{{action('focus')}}">
        <lyte-yield lyte-if = {{ltPropYield}} yield-name = "imageplayer" lt-prop-current-item = {{ltPropCurrentItem}}></lyte-yield>
        <img lyte-else-if = {{!ltPropPrefetch}} onload="{{action('load',event,this,ltPropCurrentItem)}}" onerror="{{action('error',event,this,ltPropCurrentItem)}}" src="{{ltPropCurrentItem.src}}" alt="{{ltPropCurrentItem.alt}}">
    </lyte-image-item>
    <div lyte-if = {{ltPropControls}} class="lyteImagePlayerControl">
        <button lyte-if = {{ltPropIcons.pauseplay}} aria-label="{{ltPropIcons.pauseplay.label}}" class="lyteImagePlayerPlayIcon" onclick="{{action('togglePlay')}}" tabindex="{{ltPropTabindex}}" data-tabindex = {{ltPropDataTabindex}}></button>
        <div class="lyteImagePlayerDuration">{{formattedDuration}}</div>
        <div class="lyteImagePlayerSlider" onkeydown="{{action('keydown',event,this)}}" onclick="{{action('move',event,this)}}">
            <div class="lyteImagePlayerFill" style="{{fillWidth}}"></div>
            <span tabindex="{{ltPropTabindex}}" data-tabindex = {{ltPropDataTabindex}} role = "slider" aria-errormessage="{{ltPropCurrentItem.errorMessage}}" aria-label = {{formattedDuration}} lt-prop-title = {{formattedDuration}} lt-prop-tooltip-config = {{ltPropTooltipConfig}} lt-prop-tooltip-style = {{ltPropTooltipStyle}} lt-prop-tooltip-class = {{ltPropTooltipClass}} aria-orientation="horizontal" aria-valuemin="0" aria-valuemax="{{totalDuration}}" aria-valuenow="{{formattedDuration}}" class="lyteImagePlayerSliderHandler" style="{{handlerPosition}}" onmousedown = "{{action('mousedown',event,this)}}" ontouchstart = "{{action('mousedown',event,this)}}"></span>
            <template lyte-for = "{{highlightPoints}} as item index">
                <span class="lyteImagePlayerHighlight" style = "{{item}}" data-index="{{index}}"></span>
            </template>
        </div>
        <div class="lyteImagePlayerTotalDuration">{{totalDuration}}</div>
        <button lyte-if = {{ltPropIcons.fullscreen}} aria-label="{{ltPropIcons.fullscreen.label}}" class="lyteImagePlayerFullscreen" lt-prop-title = {{ltPropIcons.fullscreen.title}} lt-prop-tooltip-config = {{ltPropTooltipConfig}} tabindex="{{ltPropTabindex}}" data-tabindex = {{ltPropDataTabindex}} onclick="{{action('toggleFullScreen')}}"></button>
    </div>
	<lyte-loader 
		lt-prop-on-timeout='{"errorMsg":"Waiting for image to load","delayTime":10000}'
		lt-prop-progress-bar='{"mode": "indefinite","show":false}'
		lt-prop-in-line = true
		lt-prop-close-icon = false
        lt-prop-show = {{loaderShow}}
	></lyte-loader>

    <lyte-yield class="lyteImagePlayerFooterYield" lyte-if = {{ltPropFooterYield}} yield-name = "image-footer" lt-prop-current-item = {{ltPropCurrentItem}}></lyte-yield>
</template>