<template tag-name="lyte-datetime-input">
	<div class="lyteDateTimeInputWrapper">
		<input tabindex = {{ltPropTabindex}} data-tabindex={{ltPropDataTabindex}} type="text" lyte-purpose = "date" class="lyteDateTimeDate" disabled={{ltPropDisabled}} readonly={{ltPropReadonly}} value="{{lbind(dateValue)}}" onfocus="{{action('focus',event,this)}}"  onblur="{{action('blur',event,this)}}" oninput="{{action('input',event,this)}}" onkeydown="{{action('keydown',event,this)}}">
		<%if(ltPropAria){%>
			<span aria-haspopup = true aria-label = {{ltPropAriaLabel.button}} disabled = {{ltPropDisabled}} aria-expanded = {{isExpanded}} aria-controls = #{{randomId}} class="lyteDateInputCalendarIcon" onclick="{{action('calIconClick', event, this)}}" onfocus="{{action('calIconFocus',event,this)}}" onblur="{{action('calIconBlur',event,this)}}" tabindex = {{ltPropTabindex}} data-tabindex={{ltPropDataTabindex}} onkeydown="{{action('calIconKey',event,this)}}"></span>
	    <%}
		if( ltPropType == "datetime" ){
			if(ltPropDropdown){%>
				<lyte-dropdown lt-prop-tabindex = "-1" class = "lyteDateInputDropdown" lt-prop-selected = {{lbind(selected)}} lt-prop = {{ltPropDropdownProperties}} on-before-show = "{{method('beforeShow')}}" on-before-hide="{{method('beforeHide')}}" on-option-selected = "{{method('timeselect')}}">
					<template is = "registerYield" yield-name = "yield">
						<lyte-drop-button>
							<input tabindex = {{ltPropTabindex}} data-tabindex={{ltPropDataTabindex}} type="text" lyte-purpose = "time" class="lyteDateTimeTime" disabled={{ltPropDisabled}} readonly={{ltPropReadonly}} value="{{lbind(timeValue)}}" onfocus="{{action('focus',event,this)}}"  onblur="{{action('blur',event,this)}}" oninput="{{action('input',event,this)}}" onkeydown="{{action('keydown',event,this)}}">
							<%if(timezone){%>
								<span class="lyteDateTimezone">{{timezone}}</span>
							<%}%>
						</lyte-drop-button>
						<lyte-drop-box class = "lyteDaterangeInputDropdown">
							<%if(ltPropHeaderYield){%>
								<lyte-drop-head>
		                            <lyte-yield yield-name = "timeheader"></lyte-yield>
		                        </lyte-drop-head>
							<%}%>
							<lyte-drop-body>
								<%if(ltPropTimeYield){
									dropdown.forEach( function( item ){%>
										<lyte-drop-item tabindex = -1 data-timezone = {{item.timezone}} data-value = {{item.format}}>
											<lyte-yield yield-name = "dropYield" item-value = {{item}}></lyte-yield>
										</lyte-drop-item>
									<%})
							      } else {%>
									<%dropdown.forEach( function( item ){%>
										<lyte-drop-item tabindex = -1 data-timezone = {{item.timezone}} data-value = {{item.format}}>
											<span class="lyteDateValue">{{item.time}}</span>
											<%if(item.timezone){%>
												<span class="lyteDateTimezoneValue">{{item.timezone}}</span>
											<%}%>
										</lyte-drop-item>
									<%})%>
								<%}%>
							</lyte-drop-body>
						</lyte-drop-box>
					</template>
				</lyte-dropdown>
			<%}else{%>
				<div>
					<input tabindex = {{ltPropTabindex}} data-tabindex={{ltPropDataTabindex}} type="text" lyte-purpose = "time" class="lyteDateTimeTime" disabled={{ltPropDisabled}} readonly={{ltPropReadonly}} value="{{lbind(timeValue)}}" onfocus="{{action('focus',event,this)}}"  onblur="{{action('blur',event,this)}}" oninput="{{action('input',event,this)}}" onkeydown="{{action('keydown',event,this)}}">
					<%if(timezone){%>
						<span class="lyteDateTimezone">{{timezone}}</span>
					<%}%>
				</div>
			<%}
		}%>
	</div>
	<%if(ltPropBindToBody){%>
		<lyte-wormhole id = {{randomId}} class = "lyteDateTimeInputWormhole lyteDateTimeInputHidden" on-before-append = "{{method('beforeAppend')}}" role = "dialog" aria-modal = true aria-label = {{ltPropAriaLabel.modal}}>
			<template is = "registerYield" yield-name = "lyte-content">
				<lyte-calendar onkeydown="{{action('calKey',event)}}" lt-prop = "{{ltPropCalendarProperties}}" lt-prop-yield = {{ltPropCalendarYield}} lt-prop-format = {{ltPropDateFormat}} lt-prop-time-zone = {{ltPropTimeZone}} lt-prop-min-date = {{minDate}} lt-prop-max-date = {{maxDate}} lt-prop-current-date = {{lbind(dateValue)}} lt-prop-activate-navigation = {{lbind(navigation)}} lt-prop-disable-navigation = {{!ltPropAria}} on-date-selected = "{{method('dateselect')}}" on-navigate = "{{method('navigate','onNavigate')}}" on-view-change = "{{method('navigate', 'onViewChange')}}">
					<template is = "registerYield" yield-name = "footer" from-parent></template>
				</lyte-calendar>
			</template>
		</lyte-wormhole>	
	<%}%>
</template>