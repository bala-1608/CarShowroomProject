<template tag-name="lyte-listview">
	<div class="lyteListviewWrapper">
		<lyte-table lt-prop = "{{stringify(ltPropTable)}}" lt-prop-yield = true lt-prop-content = {{ltPropContent}} lt-prop-header = {{headerData}} lt-prop-data = {{ltPropData}} lt-prop-width = {{overallWidth}} on-fix = "{{method('fix')}}" on-un-fix = "{{method('unfix')}}">
			<template is = "registerYield" yield-name = "yield">
				<%if(ltPropSubHeaders){%>
					<div class="lyteListFakeHeader" style="width:{{overallWidth}}">
						<%fakeHeaderData.forEach( function( item, index ){%>
							<div class="lyteListFakeCell {{if(item.data.pinned,'lyteListFixed','')}}" index = {{index}} style = "{{listStyle(item)}}" data-name = "fakeHeaderData">
								<%if(item.hasChildren){
									if(item.render){%>
										<lyte-yield yield-name = "topHeader" cell-data = {{item.data}}></lyte-yield>
										<%if(checkListResize(item.data)){%>
											<div class="lyteListResizeHandler" onmousedown="{{action('resize',event)}}" ontouchstart="{{action('resize',event)}}"></div>
										<%}
									}else{%>
										<div class="lyteListviewIntersection"></div>
									<%}
								} else if(item.data.resizable){%>
									<div class="lyteListResizeHandler" onmousedown="{{action('resize',event)}}" ontouchstart="{{action('resize',event)}}"></div>
								<%}%>
							</div>
						<%})%>
					</div>
				<%}%>
				<lyte-table-structure>
					<lyte-thead>
						<lyte-tr>
							<%headerData.forEach( function( cell, index){
								if( cell.columns ){
									cell.columns.forEach( function( inner, inner_index ){%>
										<lyte-th id = {{inner.data.id}} class = {{inner.data.class}} index = {{index}} inner_index = {{inner_index}} data-name = "headerData" fixed = "{{if(inner.data.pinned,'enable','')}}" style = "{{listStyle(inner.data)}}" sticky-position = {{item.data.pinnedPosition}}>
											<%if(inner.render){%>
												<lyte-yield yield-name = "header" cell-data = {{inner.data}}></lyte-yield>
												<%if(inner.data.resizable){%>
													<div class="lyteListResizeHandler" onmousedown="{{action('resize',event)}}" ontouchstart="{{action('resize',event)}}"></div>
												<%}
											}else{%>
												<div class="lyteListviewIntersection"></div>
											<%}%>
										</lyte-th>
								  <%})
								} else {%>
									<lyte-th id = {{cell.data.id}} class = {{cell.data.class}} index = {{index}} data-name = "headerData" fixed = "{{if(cell.data.pinned,'enable','')}}" style = "{{listStyle(cell.data)}}" sticky-position = {{item.data.pinnedPosition}}>
										<%if(cell.render){
											if(cell.data.hasCheckbox){%>
												<lyte-checkbox lt-prop-checked = {{lbind(checkAll)}} on-checked = "{{method('onHeaderCheck')}}" on-unchecked = "{{method('onHeaderUnCheck')}}"></lyte-checkbox>
											<%}%>
											<lyte-yield yield-name = "header" cell-data = {{cell.data}}></lyte-yield>
											<%if(cell.data.resizable){%>
												<div class="lyteListResizeHandler" onmousedown="{{action('resize',event)}}" ontouchstart="{{action('resize',event)}}"></div>
											<%}
										}else{%>
											<div class="lyteListviewIntersection"></div>
										<%}%>
									</lyte-th>
								<%}
							})%>
						</lyte-tr>
					</lyte-thead>
					<lyte-tbody>
						<%if(ltPropTable.infiniteScroll){
							if(renderTable){
								ltPropData.forEach( function( item, rowindex ){%>
									<lyte-tr index = {{rowindex}} row-index = {{item.index}} class = {{item.body.class}}>
										<%headerData.forEach( function( cell, index){
											if( cell.columns ){
												cell.columns.forEach( function( inn_item, inn_index ){%>
													<lyte-td class = {{inn_item.data.class}} index = {{index}} data-name = "ltPropContent" row-index = {{item.index}} inner_index = {{inn_index}}>
														<%if(renderingBoolean[ item.index ][ index ][inn_index]){%>
															<lyte-yield yield-name = "{{inn_item.data.id || cell.data.yield}}" row-data = {{item.body}} cell-data = {{inn_item.data}} cell-id = {{inn_item.data.id}}></lyte-yield>
														<%}else{%>
															<div class="lyteListviewIntersection"></div>
														<%}%>
													</lyte-td>
												<%})
											}else{%>
												<lyte-td class = {{cell.data.class}} index = {{index}} data-name = "ltPropContent" row-index = {{item.index}}>
													<%if(renderingBoolean[ item.index ][ index ]){
														if(cell.data.hasCheckbox){%>
															<lyte-checkbox on-checked = "{{method('onCheck')}}" on-unchecked = "{{method('onUnCheck')}}" lt-prop-checked = {{lbind(item.body.checked)}}></lyte-checkbox>
														<%}%>
														<lyte-yield yield-name = "{{cell.data.id || cell.data.yield}}" row-data = {{item.body}} cell-data = {{cell.data}} cell-id = {{cell.data.id}}></lyte-yield>
													<%}else{%>
														<div class="lyteListviewIntersection"></div>
													<%}%>
												</lyte-td>
											<%}
										})%>
									</lyte-tr>
								<%})
							}
						} else {
							ltPropContent.forEach( function( item, rowindex ){%>
								<lyte-tr index = {{rowindex}} class = {{item.data.class}}>
									<%headerData.forEach( function( cell, index){
										if(cell.columns){
											cell.columns.forEach( function( inn_cell, inn_index ){%>
												<lyte-td class = {{inn_cell.data.class}} index = {{index}} data-name = "ltPropContent" row-index = {{rowindex}} inner_index = {{inn_index}}>
													<%if(renderingBoolean[ rowindex ][ index ][ inn_index]){%>
														<lyte-yield yield-name = "{{inn_item.data.id || cell.data.yield}}" row-data = {{item.body}} cell-data = {{inn_item.data}} cell-id = {{inn_item.data.id}}></lyte-yield>
													<%}else{%>
														<div class="lyteListviewIntersection"></div>
													<%}%>
												</lyte-td>
											<%})
										}else{%>
											<lyte-td class = {{cell.data.class}} index = {{index}} data-name = "ltPropContent" row-index = {{rowindex}}>
												<%if(renderingBoolean[ rowindex ][ index ]){%>
													<lyte-yield yield-name = "{{cell.data.id || cell.data.yield}}" row-data = {{item}} cell-data = {{cell.data}} cell-id = {{cell.data.id}}></lyte-yield>
												<%}else{%>
													<div class="lyteListviewIntersection"></div>
												<%}%>
											</lyte-td>
										<%}	
									})%>
								</lyte-tr>
							<%})
						}%>
					</lyte-tbody>
				</lyte-table-structure>
			</template>
		</lyte-table>
		<%if(ltPropPagination){%>
			<div class="lyteListPagination">
				<div class="">{{listDisplay(ltPropDisplayMessage,ltPropContent.length,startRecord,endRecord)}}</div>
				<div class="lyteListPages">
					<span>Pages:</span>
					<span class="lyteListMaxPages">{{pageLimit}}</span>
				</div>
				<div class="lyteListPaginationArrow">
					<span class="lyteListFirst {{if(disableLeft,'lyteListDisabled','')}}" onclick="{{action('first')}}">F</span>
					<span class="lyteListPrevious {{if(disableLeft,'lyteListDisabled','')}}" onclick="{{action('prev')}}">P</span>
					<span class="lyteListCurrentPage">
						<lyte-number lt-prop-value = {{lbind(currentPage)}} lt-prop-max = {{pageLimit}} lt-prop-min = 1></lyte-number>
					</span>
					<span class="lyteListNext {{if(disableRight,'lyteListDisabled','')}}" onclick="{{action('next')}}">N</span>
					<span class="lyteListLast {{if(disableRight,'lyteListDisabled','')}}" onclick="{{action('last')}}">L</span>
				</div>
			</div>
		<%}%>
	</div>
</template>