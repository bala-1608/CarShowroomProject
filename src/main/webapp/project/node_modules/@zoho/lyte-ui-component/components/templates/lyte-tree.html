<template tag-name="lyte-tree" role="treeitem">
  <%switch(ltPropStructureType){
   case "file":%>
   <% ltPropData.forEach(function(item, index){%>
     <!-- <span class="lyteTreeTopSibPH lyteTreeSibPH"></span> -->
     <div class="lyteTreeBodyDiv {{lyteTreeSubGroupHelper(item)}}" lyte-if="{{!item.skipNode}}" role="group">
      <lyte-tree-body 
      data-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" 
      class="{{lyteUiTreeClassHelp(item.defaultState,item.collapsed,'lyteTreeBodyOpened','lyteTreeBodyClosed',ltPropWrapperOpenClass,ltPropWrapperCloseClass)}}" 
      data-level="{{lyteUiTreeLevelHelp(indexVar, index)}}"  
      style="{{lyteUiTreeLevelVariableHelp(indexVar, index , ltPropCssLevelVariable)}}"
      >
        <div 
        class="mainContainer lyteTreeMainContainer {{lyteUiTreeChildHelp(item , ltPropLeafContainer , ltPropChildrenValue)}} {{lyteUiTreeHasChildHelp(item , ltPropChildrenValue)}} {{lyteTreeMaxChild(indexVar,index,ltPropMaxLevel)}}" 
        role="{{lyteTreeAriaRole(item , ltPropChildrenValue)}}">
        <% switch(lyteTreeTypeHelp(ltPropSortable , ltPropAllowExternalImport)){ 
           case "withExternal":%>
            <div 
              class="lyteTreeSortableElement" 
              ondragenter="{{action('dragEnterFunction' , event , this)}}" 
              ondragover="{{action('dragOverFunction' , event , this)}}" 
              ondragleave="{{action('dragLeaveFunction' , event , this)}}" 
              ondrop="{{action('dropFunction' , event , this)}}">
                <lyte-yield 
                tabindex="{{lyteTreeAriaTabIndexHelp(indexVar, index)}}" 
                collapsed="{{if(item.collapsed, 'collapsed', '')}}" 
                yield-name="content" list-value={{item}} 
                list-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" 
                class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , ltPropChildrenValue)}}"></lyte-yield>
              </div>
            <% break;
            case "onlyInternal": %> 
              <div 
              class="lyteTreeSortableElement">
                <lyte-yield 
                tabindex="{{lyteTreeAriaTabIndexHelp(indexVar, index)}}" 
                collapsed="{{if(item.collapsed, 'collapsed', '')}}" 
                yield-name="content" 
                list-value={{item}} 
                list-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" 
                class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , ltPropChildrenValue)}}"></lyte-yield>
              </div>
            <% break;
            case "nonSortable": %>
              <lyte-yield 
              tabindex="{{lyteTreeAriaTabIndexHelp(indexVar, index)}}" 
              collapsed="{{if(item.collapsed, 'collapsed', '')}}" 
              yield-name="content" list-value={{item}} list-index="{{lyteUiTreeIndexHelp(indexVar, index)}}" class="{{lyteUiTreeChildHelp(item , ltPropLeafNodeClass , ltPropChildrenValue)}}"></lyte-yield>
            <% break; } %>
              <%if(item[ltPropChildrenValue]["length"] !== 0 && item[ltPropChildrenValue] !== undefined && !item.collapsed && lyteUiTreeMaxLevelHelp(indexVar , index , ltPropMaxLevel)){ %>
              <lyte-tree 
              class="{{lyteTreeClassStateHelp(item)}} lyteTreeChildrenLevel" 
              lt-prop-children-value={{ltPropChildrenValue}}
              index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}" 
              lt-prop-data={{item[ltPropChildrenValue]}} 
              id="{{ltPropId}}" 
              lt-prop-tree-lines={{ltPropTreeLines}}
              lt-prop-yield={{ltPropYield}} 
              lt-prop-open-class={{ltPropOpenClass}} 
              lt-prop-wrapper-open-class={{ltPropWrapperOpenClass}} 
              lt-prop-leaf-node-class={{ltPropLeafNodeClass}} 
              lt-prop-close-class={{ltPropCloseClass}} 
              lt-prop-wrapper-close-class={{ltPropWrapperCloseClass}}
              lt-prop-max-level = {{ltPropMaxLevel}}
              lt-prop-ignore-max-level={{ltPropIgnoreMaxLevel}}
              lt-prop-toggle-animation={{ltPropToggleAnimation}} 
              lt-prop-css-level-variable="{{ltPropCssLevelVariable}}"
              lt-prop-sortable={{ltPropSortable}} 
              lt-prop-scroll-speed="{{ltPropScrollSpeed}}" 
              lt-prop-allow-external-import="{{ltPropAllowExternalImport}}" 
              on-toggle="{{method('onToggle')}}" 
              on-toggle-end="{{method('onToggleEnd')}}" 
              on-before-open="{{method('onBeforeOpen')}}" 
              on-open="{{method('onOpen')}}" 
              on-before-close="{{method('onBeforeClose')}}" 
              on-close="{{method('onClose')}}">
                <template is="registerYield" yield-name="content" from-parent></template>
              </lyte-tree>
            <%}%>
        </div>
      </lyte-tree-body>
      <!-- <div class="lyteTreeAriaLive" aria-live="polite" lyte-if="{{ariaLiveBoolean}}">{{ariaLiveContent}}</div> -->
    </div>
     <!-- <span class="lyteTreeBottomSibPH lyteTreeSibPH"></span> -->
   <%})%>
   <%break;
   case "hierarchy":%>
   <% ltPropData.forEach(function(item, index){%>
     <table class="lyteHTreeNode" cellpadding="0" cellspacing="0" data-level="{{lyteUiTreeLevelHelp(indexVar, index)}}" child-index="{{index}}" data-index="{{lyteUiTreeIndexHelp(indexVar, index)}}">
       <tr>
         <td class="lyteHTreeParentNode" onclick="{{action('openHorizontalTree' , this)}}">
           <%if(lyteUiTreeLevelHelp(indexVar, index) > 0 ){ %>
             <div class="lyteHTreeConnectorLine">
               <div class="lyteHTreeVerticalConnectLine {{lyteHTreeTopVline( index , ltPropData)}}"></div>
               <div class="lyteHTreeVerticalConnectLine {{lyteHTreeBottomVline( index , ltPropData)}}"></div>
             </div>
             <span class="lyteHTreeHorizontalBeforeConnectLine"></span>
           <% } %>
           <div class="lyteHTreeContentWrap">
             <lyte-yield yield-name="content" list-value={{item}}></lyte-yield>
           </div>
           <span class="lyteHTreeHorizontalAfterConnectLine lyteHTreeHorizontalConnectorHidden"></span>
         </td>
         <%if((item.collapsed !== undefined) && (item.collapsed !== true)) { %>
           <td class="lyteHtreeChildNode">
             <lyte-tree
               id="{{ltPropId}}"
               class="lyteHTreeChildWrap"
               index-var="{{lyteUiTreeIndexHelp(indexVar, index)}}"
               lt-prop-children-value={{ltPropChildrenValue}}
               lt-prop-data={{item[ltPropChildrenValue]}}
               lt-prop-open-class="open"
               lt-prop-close-class="close"
               lt-prop-yield={{ltPropYield}}
               lt-prop-structure-type="hierarchy"
               lt-prop-leaf-node-class={{ltPropLeafNodeClass}}
               on-before-open="{{method('onBeforeOpen')}}"
               on-open="{{method('onOpen')}}"
               on-before-close="{{method('onBeforeClose')}}"
               on-close="{{method('onClose')}}">
                 <template is="registerYield" yield-name="content" from-parent></template>
             </lyte-tree>
           </td>
         <% } %>
       </tr>
     </table>
   <%})%>
   <%break;
   case "data":%>
   <div class="lyteDataTreeNodeWrap">
     <% switch(dataType){ 
       case "array":%>
       <div class="lyteDataTreeNode lyteDataTreeArrayNode {{if(lyteTreeArrayOpened, 'lyteDataTreeOpened', 'lyteDataTreeClosed')}}" lyte-if="{{!arrayOpened}}" onclick="{{action('openArray' , this)}}">
         <span>
           <!-- <span class="lyteDataTreeArrayOpenBracket">[</span> -->[
           <% ltPropArrayData.forEach(function(item, index){%>
             <%switch(lyteTreeDataType(item)){
               case "array":%>
                 <span class="test" style="text-transform:capitalize;">{{lyteTreeDataType(item)}}({{lyteTreeGetArrayLength(item)}})</span>
                 <span class="lyteTreeComma">,</span>
               <%break;
               case "object":%>
                 <span>{...}</span>
                 <span class="lyteTreeComma">,</span>
               <%break;
               case "string":%>
                 <span class="lyteDataTreeNodeText">'{{item}}'</span>
                 <span class="lyteTreeComma">,</span>
               <%break;
               case "keyword":%>
                 <span class="lyteDataTreeNodeKeyword">{{lyteDataTreeKeywordParsing(value)}}</span>
                 <span class="lyteTreeComma">,</span>
               <%break;
               case "number":%>
                 <span>{{item}}</span>
                 <span class="lyteTreeComma">,</span>
             <% break;} %>
           <% }) %>
           ]
           <!-- <span class="lyteDataTreeArrayCloseBracket">]</span> -->
         </span>
       </div>
       <div class="lyteDataTreeOpened" lyte-else onclick="{{action('openArray' , this)}}">
         <span>Array({{lyteTreeArrayLength}})</span>
       </div>
 
       <div class="lyteDataTreeNodeWrap" lyte-if="{{lyteTreeArrayOpened}}">
         <% ltPropArrayData.forEach(function(item, index){%>
           <% switch(lyteTreeDataType(item)){ 
             case "array":%>
               <div class="lyteDataTreeNode lyteDataTreeArray">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <div class="lyteDataTreeNodeContent">
                   <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data={{item}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{method('onClose')}}">
                     <template is="registerYield" yield-name="content"></template>
                   </lyte-tree>
                 </div>
               </div>
             <% break;
             case "object":%>
               <div class="lyteDataTreeNode lyteDataTreeObject">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <div class="lyteDataTreeNodeContent">
                   <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data={{item}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{method('onClose')}}">
                     <template is="registerYield" yield-name="content"></template>
                   </lyte-tree>
                 </div>
               </div>
             <% break;
             case "number":%>
               <div class="lyteDataTreeNode lyteDataTreeNumber">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span>
               </div>
               <% break;
             case "string":%>
               <div class="lyteDataTreeNode lyteDataTreeString">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span>
               </div>
               <% break;
               case "keyword":%>
               <div class="lyteDataTreeNode lyteDataTreeKeyword">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{lyteDataTreeKeywordParsing(value)}}</span>
               </div>
               <% break;
             case "boolean":%>
               <div class="lyteDataTreeNode lyteDataTreeBoolean">
                 <span class="lyteDataTreeIndex">{{index}}</span>
                 <span>:</span>
                 <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{item}}</span>
               </div>
           <% break;} %>
         <% }) %>
       </div>
       <% break;
       case "object":%>
       <div class="lyteDataTreeNode lyteDataTreeObjectNode {{if(lyteTreeJsonOpened, 'lyteDataTreeOpened', 'lyteDataTreeClosed')}}" lyte-if="{{!jsonOpened}}" onclick="{{action('openJson' , this)}}">
         <span>{
           <% ltPropJsonData.forIn(function(value, key){%>
           <span>{{key}}</span>:
             <%switch(lyteTreeDataType(value)){
               case "array":%>
               <span style="text-transform:capitalize;">{{lyteTreeDataType(value)}}({{lyteTreeGetArrayLength(value)}})</span>
               <span class="lyteTreeComma">,</span>
               <%break;
               case "object":%>
               <span>{...}</span>
               <span class="lyteTreeComma">,</span>
               <%break;
               case "string":%>
               <span class="lyteDataTreeNodeText">'{{value}}'</span>
               <span class="lyteTreeComma">,</span>
               <%break;
               case "keyword":%>
               <span class="lyteDataTreeNodeKeyword">{{lyteDataTreeKeywordParsing(value)}}</span>
               <span class="lyteTreeComma">,</span>
               <%break;
               case "number":%>
               <span class="lyteDataTreeNumber">{{value}}</span>
               <span class="lyteTreeComma">,</span>
               <%break;
               case "boolean":%>
               <span class="lyteDataTreeBoolean">{{value}}</span>
               <span class="lyteTreeComma">,</span>
             <% break;} %>
           <% }) %>
           }</span>
       </div>
 
       <div class="lyteDataTreeOpened" lyte-else onclick="{{action('openJson' , this)}}">
         <span class="lyteDataTreeObjectTextLabel">Object</span>
       </div>
 
       <div class="lyteDataTreeNodeWrap" lyte-if="{{lyteTreeJsonOpened}}">
         <% ltPropJsonData.forIn(function(value, key){%>
           <% switch(lyteTreeDataType(value)){ 
             case "array":%>
             <div class="lyteDataTreeNode lyteDataTreeArray">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <div class="lyteDataTreeNodeContent">
                 <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-array-data={{value}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{method('onClose')}}">
                   <template is="registerYield" yield-name="content"></template>
                 </lyte-tree>
               </div>
             </div>
             <% break;
             case "object":%>
             <div class="lyteDataTreeNode lyteDataTreeObject">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <div class="lyteDataTreeNodeContent">
                 <lyte-tree class="lyteDataTreeSubLevel" lt-prop-structure-type="data" lt-prop-json-data={{value}} on-before-open="{{method('onBeforeOpen')}}" on-open="{{method('onOpen')}}" on-before-close="{{method('onBeforeClose')}}" on-close="{{method('onClose')}}">
                   <template is="registerYield" yield-name="content"></template>
                 </lyte-tree>
               </div>
             </div>
             <% break;
             case "string": %>
             <div class="lyteDataTreeNode lyteDataTreeString">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span>
               <span class="lyteTreeComma testend">,</span>
             </div>
             <% break;
             case "keyword": %>
             <div class="lyteDataTreeNode lyteDataTreeKeyword">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{lyteDataTreeKeywordParsing(value)}}</span>
               <span class="lyteTreeComma testend">,</span>
             </div>
             <% break;
             case "number":%>
             <div class="lyteDataTreeNode lyteDataTreeNumber">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span>
               <span class="lyteTreeComma testend">,</span>
             </div>
           <% break;
           case "boolean":%>
             <div class="lyteDataTreeNode lyteDataTreeBoolean">
               <span class="lyteDataTreeIndex">{{key}}</span>
               <span>:</span>
               <span class="lyteDataTreeNodeContent lyteDataTreeNodeText">{{value}}</span>
               <span class="lyteTreeComma testend">,</span>
             </div>
           <% break;} %>
         <% }) %>
       </div>
     <% break; } %>
   </div>
   <%break;}%>
 
 </template>
 