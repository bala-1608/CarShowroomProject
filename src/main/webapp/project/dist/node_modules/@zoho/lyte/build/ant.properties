#$Id$
product_name="lyte"
product_version="1.1.0.0"
debug=on
optimize=off
deprecation=on

#######################################################################################

targetfull_order=download,prebundling,zip_creation

local_order=download,prebundling,zip_creation

#######################################################################################
download_order=getdep:deps

prebundling_order=copytask:source,exec:npm_install,exec:bower,mkdir:dist,copytask:tpcomponents,exec:node,copytask:package_json,exec:npm_pack

zip_creation_order=genzip:outputzip,copytask:tar

#######################################################################################
######################     COMMON VARIABLES      ######################################
#######################################################################################

build_dir=${basedir}/LYTE
source_basedir=${build_dir}/../..
pkg_dir=${build_dir}/pkg
prod_home=${pkg_dir}/lyte
classes_dir=${build_dir}/classes
output_dir=${build_dir}/output
node_home=${build_dir}/dependencies/node
bower_home=${build_dir}/dependencies/bower

#######################################################################################
######################        VARIABLES FOR CHECKOUT    #########################
#######################################################################################
deps_urls=node

node=http://cm-server/thirdparty_downloads/node_modules/lyte/Jun_07_2024/node_modules.zip

##bower=http://cm-server/thirdparty_downloads/node_modules/lyte/Feb_22_2018_2/bower_components.zip

node_copytask=${node_home},${prod_home},**

##bower_copytask=${bower_home},${prod_home},**

source_copytask=${source_basedir},${prod_home},build.js lyte-component-security.js lyte.js package.json bower.json lyte-polyfills.js lyte-core.js transition-map.js .npmrc parent-widget-wrapper.js SecurityConf/**


bower_exec_dir=${prod_home}
bower_exec_command=bower
bower_exec_args=install --allow-root

npm_install_exec_dir=${prod_home}
npm_install_exec_command=npm
npm_install_exec_args=install

tpcomponents_copytask=${basedir}/../../tp_components/,${prod_home}/bower_components/tp/,**

node_exec_dir=${prod_home}
node_exec_command=node
node_exec_args=build.js

npm_pack_exec_dir=${prod_home}/dist
npm_pack_exec_command=npm
npm_pack_exec_args=pack

dist_dirname=${prod_home}/dist
package_json_copytask=${prod_home},${prod_home}/dist/,package.json
tar_copytask=${prod_home}/,${output_dir}/,**/*.tgz

outputzip_genzip=${output_dir}/Lyte.zip,${prod_home}/dist,.,*.tgz

#######################################################################################

